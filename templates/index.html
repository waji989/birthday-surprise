<!DOCTYPE html>
<html>
<head>
    <title>Happy Birthday ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<!-- PASSWORD SCREEN -->
<div id="passwordScreen" class="center">
    <h2>üîê Enter Secret Password</h2>
    <input type="password" id="passwordInput" placeholder="Enter password">
    <button onclick="checkPassword()">Unlock ‚ù§Ô∏è</button>
</div>

<!-- MAIN CONTENT -->
<div id="mainContent" style="display:none;">

    <!-- Countdown -->
    <div id="countdown"></div>

    <!-- Birthday Card -->
    <div class="card">
        <h1>üéÇ Happy Birthday My Love üéÇ</h1>
        <h2 id="typewriter"></h2>
        <button onclick="launchSurprise()">Click For Surprise üéÅ</button>
    </div>

    <!-- Slideshow -->
    <div class="slideshow">
        <img id="slide" src="/static/pic1.jpg">
    </div>

</div>

<audio id="music" loop>
    <source src="/static/song.mp3" type="audio/mpeg">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const correctPassword = "anushka00"; // CHANGE THIS

function checkPassword(){
    const input = document.getElementById("passwordInput").value;
    if(input === correctPassword){
        document.getElementById("passwordScreen").style.display="none";
        document.getElementById("mainContent").style.display="block";
        startCountdown();
        typeWriter();
        document.getElementById("music").play();
    } else {
        alert("Wrong password ‚ù§Ô∏è");
    }
}

// COUNTDOWN TO MIDNIGHT
function startCountdown(){
    setInterval(function(){
        const now = new Date();
        const midnight = new Date();
        midnight.setHours(24,0,0,0);
        const diff = midnight - now;

        const hours = Math.floor(diff / (1000*60*60));
        const minutes = Math.floor((diff % (1000*60*60))/(1000*60));
        const seconds = Math.floor((diff % (1000*60))/1000);

        document.getElementById("countdown").innerHTML =
        "‚è≥ Countdown: " + hours + "h " + minutes + "m " + seconds + "s ";
    },1000);
}

// TYPEWRITER EFFECT
const text = "You are my happiness, my peace, my forever ‚ù§Ô∏è";
let i = 0;
function typeWriter(){
    if(i < text.length){
        document.getElementById("typewriter").innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, 60);
    }
}

// SURPRISE CONFETTI
function launchSurprise(){
    confetti({
        particleCount: 300,
        spread: 150
    });
}

// SLIDESHOW
let slideIndex = 1;
setInterval(function(){
    slideIndex++;
    if(slideIndex > 3) slideIndex = 1;
    document.getElementById("slide").src = "/static/pic" + slideIndex + ".jpg";
}, 3000);

</script>

</body>
</html>